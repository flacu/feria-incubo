function valRUT(a) {
    return re = /^[1-9]{1}[0-9]*\.?[0-9]{3}\.?[0-9]{3}\-?[0-9kK]$/, re.exec(a) ? !0 : !1;
}

function digito(a) {
    for (var b = 0, c = 1; a; a = Math.floor(a / 10)) c = (c + a % 10 * (9 - b++ % 6)) % 11;
    return c ? c - 1 : "k";
}

function valDV(a) {
    var b, c, d, e;
    if (-1 != a.indexOf("-") ? (b = a.split("-"), c = b[1].toLowerCase(), d = b[0]) : (c = a.substring(a.length - 1, a.length).toLowerCase(), 
    d = a.substring(0, a.length - 1)), -1 != d.indexOf(".")) for (d = d.split("."), 
    e = "", i = 0; i < d.length; i++) e += d[i]; else e = d;
    return digito(e) == c ? !0 : !1;
}

jQuery.validator.addMethod("notNumber", function(a, b, c) {
    var d = /[0-9]/;
    return d.test(a) ? !1 : !0;
}, "no se permiten n&uacute;meros"), jQuery.validator.addMethod("rut", function(a, b) {
    return this.optional(b) || valRUT(a) && valDV(a);
}, "Ingresa un RUT v&aacute;lido."), $(function() {
    $("#formularioForm").validate({
        errorPlacement: function(a, b) {
            b.parent().append(a);
        },
        submitHandler: function(a) {
            var b = $(a).attr("action"), c = $(a).serialize();
            return "undefined" != typeof b && "" != b ? $.ajax({
                url: b,
                type: "POST",
                data: c,
                beforeSend: function() {
                    $("#formularioForm button").css("opacity", "0.4"), $("#formularioForm button").on("click", function() {
                        return !1;
                    });
                },
                success: function(a) {
                    "OK" == a ? ($("#exito").addClass("active"), $("#formularioForm").css("display", "none")) : ($("#error").addClass("active"), 
                    $("#formularioForm").css("display", "none"));
                }
            }) : $("#error").addClass("active").siblings().removeClass("active"), !1;
        },
        rules: {
            nombre: {
                required: !0,
                notNumber: !0
            },
            email: {
                required: !0,
                email: !0
            },
            telefono: {
                required: !0,
                number: !0
            },
            empresa: {
                required: !0,
                notNumber: !0
            }
        },
        messages: {
            nombre: {
                required: "Debes escribir tu nombre y apellido"
            },
            email: {
                required: "Debes escribir tu E-Mail",
                email: "Ingresa un correo válido"
            },
            telefono: {
                required: "Debes escribir tu teléfono",
                number: "Debes ingresar solo n&uacute;meros"
            },
            empresa: {
                required: "Debes escribir empresa/institución"
            }
        }
    });
});